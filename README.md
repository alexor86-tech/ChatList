# ChatList

AI Model Comparison Tool - отправляйте один промт в несколько нейросетей и сравнивайте их ответы.

## Описание

ChatList — это Python-приложение с графическим интерфейсом (PyQt5), которое позволяет:
- Отправлять один промт в несколько AI-моделей одновременно
- Сравнивать ответы разных моделей в удобной таблице
- Сохранять интересные результаты в базу данных
- Экспортировать результаты в Markdown или JSON
- Управлять списком моделей и промтов

## Установка

1. Клонируйте репозиторий или скачайте файлы проекта

2. Создайте виртуальное окружение:
```bash
python3 -m venv venv
```

3. Активируйте виртуальное окружение:
```bash
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate  # Windows
```

4. Установите зависимости:
```bash
pip install -r requirements.txt
```

5. Настройте API-ключи:
   - Скопируйте `.env.example` в `.env`
   - Откройте `.env` и добавьте ваши API-ключи:
   ```
   OPENROUTER_API_KEY=your_key_here
   ```

6. Инициализируйте базу данных (опционально, добавит примерные модели):
```bash
python init_db.py
```

## Запуск

Активируйте виртуальное окружение (если не активировано) и запустите:
```bash
source venv/bin/activate
python main.py
```

## Использование

### Добавление моделей

1. В меню выберите **Models → Add Model...**
2. Заполните форму:
   - **Name**: Название модели (например, `openai/gpt-4` для OpenRouter)
   - **API URL**: URL API-эндпоинта (например, `https://openrouter.ai/api/v1/chat/completions`)
   - **API ID**: Имя переменной окружения с API-ключом (например, `OPENROUTER_API_KEY`)
   - **Active**: Отметьте, если модель активна

### Отправка промта

1. Введите промт в текстовое поле
2. (Опционально) Добавьте теги через запятую
3. Нажмите кнопку **Send**
4. Дождитесь ответов от всех активных моделей
5. Отметьте интересные результаты чекбоксами
6. Нажмите **Save Selected** для сохранения в базу данных

### Работа с сохраненными промтами

- Выберите промт из выпадающего списка "Saved Prompts"
- Нажмите **Load Prompt** для загрузки
- Или просто выберите промт и нажмите **Send**

### Экспорт результатов

1. Отметьте нужные результаты чекбоксами
2. Нажмите **Export**
3. Выберите формат (Markdown или JSON) и сохраните файл

## Поддерживаемые провайдеры

- **OpenRouter** (рекомендуется) - единый API для множества моделей
- **OpenAI** - прямой доступ к OpenAI API
- **DeepSeek** - DeepSeek API
- **Groq** - Groq API
- Любые другие провайдеры с OpenAI-совместимым форматом

## Структура проекта

```
ChatList/
├── main.py          # Главный файл приложения (GUI)
├── db.py            # Модуль работы с базой данных
├── models.py        # Модуль управления моделями
├── network.py       # Модуль API-запросов
├── init_db.py       # Скрипт инициализации БД
├── requirements.txt  # Зависимости проекта
├── .env.example     # Пример файла с API-ключами
├── DATABASE.md      # Описание схемы базы данных
└── PLAN.md          # План реализации проекта
```

## База данных

Приложение использует SQLite базу данных `chatlist.db` для хранения:
- Промтов (prompts)
- Конфигурации моделей (models)
- Сохраненных результатов (results)
- Настроек приложения (settings)

Подробное описание схемы см. в `DATABASE.md`.

## Сборка исполняемого файла

Для создания standalone исполняемого файла:

1. Убедитесь, что PyInstaller установлен:
```bash
source venv/bin/activate
pip install pyinstaller
```

2. Соберите исполняемый файл используя spec файл:
```bash
pyinstaller ChatList.spec
```

Исполняемый файл будет создан в директории `dist/` с именем `ChatList-{version}`, где `{version}` - версия из файла `version.py` (например, `ChatList-1.0.0`).

**Альтернативный способ** (без spec файла):
```bash
pyinstaller --onefile --windowed --name ChatList main.py
```

## Сборка .deb пакета

Для создания .deb пакета для установки в Debian/Ubuntu:

1. Сначала соберите исполняемый файл (см. раздел выше)

2. Запустите скрипт сборки:
```bash
./build_deb.sh
```

Или вручную:
```bash
# Создайте структуру пакета
mkdir -p deb_package/DEBIAN deb_package/usr/bin deb_package/usr/share/applications

# Скопируйте исполняемый файл
cp dist/ChatList-1.0.0 deb_package/usr/bin/chatlist
chmod +x deb_package/usr/bin/chatlist

# Создайте файлы control, desktop и т.д. (см. deb_package/)
# Затем соберите пакет:
dpkg-deb --build deb_package chatlist_1.0.0_amd64.deb
```

3. Установите пакет:
```bash
sudo dpkg -i chatlist_1.0.0_amd64.deb
```

Если возникнут проблемы с зависимостями:
```bash
sudo apt-get install -f
```

## Требования

- Python 3.11+
- SQLite3
- PyQt5
- requests или httpx
- python-dotenv

## Лицензия

См. файл LICENSE.

## Поддержка

При возникновении проблем проверьте:
1. Правильность API-ключей в `.env`
2. Наличие активных моделей в базе данных
3. Логи в консоли для диагностики ошибок
